{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/Posts/Posts.module.css","components/Profile/Posts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusInfoWIthHook.js","components/Profile/ProfileInfo/ProfileDataForm.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Posts/Post/Post.js","components/Profile/Posts/Posts.js","components/Profile/Posts/PostsContainer.js","components/Profile/ProfileContainer.js"],"names":["module","exports","ProfileStatusInfoWithHook","props","useState","status","setStatus","editMode","setEditMode","useEffect","changeEditMode","flag","updateUserStatus","onDoubleClick","onChange","e","currentTarget","value","onBlur","autoFocus","reduxForm","form","handleSubmit","initialValues","error","onSubmit","Field","component","Input","placeholder","id","name","validate","type","className","css","contactsBlock","Object","keys","userContacts","map","key","errorBlock","Contact","site","url","ProfileData","profileInfo","isOwner","startDialog","location","country","city","IsLookingForAJob","isLookingForAJob","ResumeText","onClick","ProfileInfo","isEditMode","history","useHistory","whiteText","src","photoUrl","avatar","userPhoto","saveAvatar","files","fileChoosen","profileGeneralInfo","formdata","result","saveUser","Promise","all","then","push","Post","item","text","likes","maxLength10","maxLengthCreator","ReduxPostForm","Textarea","required","Posts","React","memo","posts","addPost","postElements","post","formData","newposttext","paddingTop10","PostsContainer","connect","state","profilePage","dispatch","newPostActionCreator","ProfileContainer","this","getCurrentUserId","profile","isLoading","Preloader","content","match","params","userId","messagePage","messagesPageSize","a","getUserProfile","loadUserProfile","setUsersProfile","Component","compose","withRouter","auth","dialogsPage","currentMessagePage"],"mappings":"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","file":"static/js/3.e075ca71.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"ProfileInfo_userPhoto__NyjsD\",\"whiteText\":\"ProfileInfo_whiteText__RUSFa\",\"contactsBlock\":\"ProfileInfo_contactsBlock__Pbwqo\",\"profileGeneralInfo\":\"ProfileInfo_profileGeneralInfo__1Kvy5\",\"errorBlock\":\"ProfileInfo_errorBlock__2vfG6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__2qaVr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop10\":\"Posts_paddingTop10__3nRd2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__P2UQl\"};","import { useEffect, useState } from \"react\";\r\n\r\nconst ProfileStatusInfoWithHook = (props) => {\r\n    let [status, setStatus] = useState(props.status);\r\n    let [editMode, setEditMode] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (props.status) {\r\n            setStatus(props.status)\r\n        }\r\n    }, [props.status])\r\n\r\n    const changeEditMode = (flag) => {\r\n        setEditMode(flag);\r\n        if (flag)\r\n            props.updateUserStatus(status);\r\n    }\r\n    const updateStatus = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {editMode\r\n                ?\r\n                <div>\r\n                    <span onDoubleClick={() => changeEditMode(false)}>{status ? status : '---------'}</span>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <input onChange={updateStatus} onBlur={() => changeEditMode(true)} autoFocus={true} value={status} />\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProfileStatusInfoWithHook","import { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../../Common/FormControls';\r\nimport css from './ProfileInfo.module.css'\r\n\r\nconst ProfileFormData = ({ handleSubmit, initialValues, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <b>Full name:</b>\r\n                <Field component={Input} placeholder=\"Full name\" id=\"fullName\" name=\"name\" validate={[]} />\r\n            </div>\r\n            <div>\r\n                <b>Country: </b>\r\n                <Field component={Input} placeholder=\"Country\" id=\"country\" name=\"location.country\" validate={[]} />\r\n            </div>\r\n            <div>\r\n                <b>City: </b>\r\n                <Field component={Input} placeholder=\"City\" id=\"city\" name=\"location.city\" validate={[]} />\r\n            </div>\r\n            <div>\r\n                <b>Looking job: </b>\r\n                <Field component={Input} type={'checkbox'} id=\"isLookingForAJob\" name=\"isLookingForAJob\" validate={[]} />\r\n            </div>\r\n            <div>\r\n                <b>Resume: </b>\r\n                <Field component={Input} placeholder=\"Resume text\" id=\"resumeText\" name=\"resumeText\" validate={[]} />\r\n            </div>\r\n            <div className={css.contactsBlock}>\r\n                <b>Contacts: </b>\r\n                <div>\r\n                    {Object.keys(initialValues.userContacts).map(key => {\r\n                        return <Field key={key} component={Input} placeholder={key} id={key} name={\"userContacts.\" + key} validate={[]} />\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            <button>Save</button>\r\n            {error &&\r\n                <div className={css.errorBlock}>\r\n                    {error}\r\n                </div>\r\n            }\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default reduxForm({\r\n    form: \"profile\"\r\n})(ProfileFormData);","import css from './ProfileInfo.module.css'\r\nimport avatar from '../../../www/images/avatar.png'\r\nimport ProfileStatusInfoWithHook from './ProfileStatusInfoWIthHook';\r\nimport { useState } from 'react';\r\nimport ProfileFormData from './ProfileDataForm';\r\nimport {  useHistory } from 'react-router-dom';\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  const [isEditMode, setEditMode] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const fileChoosen = (e) => {\r\n    props.saveAvatar(e.currentTarget.files[0]);\r\n  }\r\n\r\n  const onSubmit = (formdata) => {\r\n    let result = props.saveUser(formdata);\r\n    Promise.all([result])\r\n      .then((result) => {\r\n        if (result[0] !== 'error')\r\n          setEditMode(false);\r\n      });\r\n  }\r\n\r\n  const startDialog = () => {\r\n    props.startDialog(props.profileInfo.id);\r\n    history.push('/dialogs');\r\n  }\r\n\r\n  return (\r\n    <div className={css.whiteText}>\r\n      <div>\r\n        <img src={props.profileInfo.photoUrl === '' ? avatar : props.profileInfo.photoUrl} className={css.userPhoto} />\r\n      </div>\r\n      {props.isOwner && <input type=\"file\" onChange={(e) => fileChoosen(e)} />}\r\n\r\n      <div><b>Status: </b>\r\n        <ProfileStatusInfoWithHook status={props.profileInfo.status} updateUserStatus={props.updateUserStatus} />\r\n      </div>\r\n\r\n      <div className={css.profileGeneralInfo}>\r\n        {isEditMode\r\n          ? props.profileInfo.name && <ProfileFormData initialValues={props.profileInfo} setEditMode={() => setEditMode(false)} onSubmit={onSubmit} />\r\n          : props.profileInfo.name && <ProfileData profileInfo={props.profileInfo} isOwner={props.isOwner} setEditMode={() => setEditMode(true)} startDialog={startDialog} />\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Contact = ({ site, url }) => {\r\n  return (\r\n    <div><b>{site}: </b>{url}</div>\r\n  );\r\n}\r\n\r\nconst ProfileData = ({ profileInfo, isOwner, setEditMode, startDialog }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <b>Full name:</b>{profileInfo.name}\r\n      </div>\r\n      <div>\r\n        <b>County: </b>{profileInfo.location.country}\r\n      </div>\r\n      <div>\r\n        <b>City: </b>{profileInfo.location.city}\r\n      </div>\r\n      <div>\r\n        <b>Looking job: </b>{profileInfo.IsLookingForAJob ? 'true' : 'false'}\r\n      </div>\r\n      {profileInfo.isLookingForAJob &&\r\n        <div>\r\n          <b>Resume: </b>{profileInfo.ResumeText}\r\n        </div>\r\n      }\r\n      <div className={css.contactsBlock}>\r\n        <b>Contacts: </b>\r\n        <div>\r\n          {Object.keys(profileInfo.userContacts).map(key => {\r\n            return <Contact key={key} site={key} url={profileInfo.userContacts[key]} />\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {isOwner && <button onClick={setEditMode}>Edit</button>}\r\n      {isOwner ||\r\n        <div>\r\n          <button onClick={startDialog}>Dialog</button>\r\n          {/* <NavLink to={'/dialogs/' + profileInfo.id} onClick={startDialog}>Dialog</NavLink> */}\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileInfo;","import css from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={css.item}>\r\n      <img src='https://banner2.cleanpng.com/20180920/yko/kisspng-computer-icons-portable-network-graphics-avatar-ic-5ba3c66df14d32.3051789815374598219884.jpg'/>\r\n      {props.text}\r\n      <div>\r\n        <span>like {props.likes}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import css from './Posts.module.css'\r\nimport Post from './Post/Post'\r\nimport React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required, maxLengthCreator } from '../../Common/Utils/Validators'\r\nimport { Textarea } from '../../Common/FormControls'\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst PostForm = ({ handleSubmit }) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <Field name='newposttext' component={Textarea} validate={[required, maxLength10]} placeholder=\"New post\" />\r\n        </div>\r\n        <div>\r\n          <button>Add post</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ReduxPostForm = reduxForm({\r\n  form: 'post'\r\n})(PostForm);\r\n\r\nconst Posts = React.memo(({ posts, addPost }) => {\r\n  let postElements = posts.map(post => <Post text={post.text} likes={post.likes} key={post.id} />)\r\n\r\n  let onSubmit = (formData) => {\r\n    addPost(formData.newposttext);\r\n  }\r\n  return (\r\n    <div>\r\n      <div>\r\n        <ReduxPostForm onSubmit={onSubmit} />\r\n      </div>\r\n      <h3>My posts</h3>\r\n      <div className={css.paddingTop10}>\r\n        {postElements}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Posts;\r\n","import { connect } from 'react-redux';\r\nimport { newPostActionCreator } from '../../../redux/profile-reducer'\r\nimport Posts from './Posts'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newposttext) => {\r\n      dispatch(newPostActionCreator(newposttext));\r\n    }\r\n  }\r\n}\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport { getUserProfile, setUsersProfile, updateUserStatus, saveAvatar, saveUser } from '../../redux/profile-reducer'\r\nimport {startDialog} from '../../redux/dialog-reducer'\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport css from './Profile.module.css'\r\nimport PostsContainer from './Posts/PostsContainer';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  render() {\r\n    if (!this.getCurrentUserId())\r\n      this.props.history.push(\"/login\");\r\n\r\n    return (\r\n      <>\r\n        {\r\n          this.props.profile.isLoading ?\r\n            <Preloader /> :\r\n            <div className={css.content}>\r\n              <ProfileInfo isOwner={!this.props.match.params.userId}\r\n                profileInfo={this.props.profile.profileInfo}\r\n                updateUserStatus={this.props.updateUserStatus}\r\n                saveAvatar={this.props.saveAvatar} \r\n                saveUser={this.props.saveUser}\r\n                startDialog={() => this.props.startDialog(this.props.profile.profileInfo.id, \r\n                                                          this.props.messagePage, \r\n                                                          this.props.messagesPageSize)}/>\r\n              <PostsContainer />\r\n            </div>\r\n        }\r\n        <div>{this.props.a}</div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  getCurrentUserId() {\r\n    return this.props.match.params.userId ? this.props.match.params.userId : this.props.userId;\r\n  }\r\n\r\n  loadUserProfile() {\r\n    let userId = this.getCurrentUserId();\r\n    if (!userId)\r\n      this.props.history.push(\"/login\");\r\n    else\r\n      this.props.getUserProfile(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadUserProfile();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setUsersProfile({});\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    userId: state.auth.userId,\r\n    profile: state.profilePage,\r\n    messagePage: state.dialogsPage.currentMessagePage,\r\n    messagesPageSize: state.dialogsPage.messagesPageSize\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    setUsersProfile,\r\n    updateUserStatus,\r\n    saveUser,\r\n    saveAvatar,\r\n    startDialog\r\n  })\r\n)(ProfileContainer);"],"sourceRoot":""}