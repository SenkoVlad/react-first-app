(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[4],{295:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__Qwssn",dialogsItems:"Dialogs_dialogsItems__1zIp8",activeItem:"Dialogs_activeItem__38U2B",messages:"Dialogs_messages__ZvBsE"}},296:function(e,s,a){e.exports={message:"Message_message__nWfIo",incomingMsg:"Message_incomingMsg__2ZeeR"}},297:function(e,s,a){e.exports={dialogItem:"DialogsItem_dialogItem__BWYD7",activeItem:"DialogsItem_activeItem__1ZHBk"}},303:function(e,s,a){"use strict";a.r(s);var t=a(100),i=a(30),r=a(31),n=a(34),o=a(33),c=a(1),g=a.n(c),d=a(17),u=a(11),p=a(3),l=a(12),j=a(0),m=function(e){return{isLogin:e.auth.isLogin}},h=a(97),b=a(295),O=a.n(b),v=a(296),x=a.n(v),I=function(e){var s=e.message.userIdOwner===e.userId?x.a.message:x.a.message+" "+x.a.incomingMsg;return Object(j.jsx)("div",{className:s,children:e.message.text})},f=a(15),P=a(297),D=a.n(P),_=function(e){var s="/dialogs/"+e.id;return Object(j.jsx)("div",{children:Object(j.jsx)(f.b,{to:s,onClick:function(){return s=e.id,void e.chooseCurrentDialog(s,e.currentMessagePage,e.messagesPageSize);var s},activeClassName:D.a.activeItem,className:e.id===e.currentUserDialogId?D.a.activeItem:D.a.dialogItem,children:e.name})})},M=a(88),S=a(130),z=a(56),C=a(85),U=Object(S.a)({form:"message"})((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{component:z.a,name:"newMessageText",validate:[C.b]})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{children:"Send message"})})]})})})})})),k=function(e){Object(n.a)(a,e);var s=Object(o.a)(a);function a(){return Object(i.a)(this,a),s.apply(this,arguments)}return Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(e,s){return this.props!=e||this.state!=s}},{key:"render",value:function(){var e=this,s=this.props.messages.map((function(s){return Object(j.jsxs)("div",{children:[Object(j.jsx)(I,{message:s,userId:e.props.userId},s.id),Object(j.jsx)("hr",{})]})})),a=this.props.dialogs.map((function(s){return Object(j.jsxs)("div",{children:[Object(j.jsx)(_,{id:s.id,name:s.name,chooseCurrentDialog:e.props.chooseCurrentDialog,currentMessagePage:e.props.currentMessagePage,messagesPageSize:e.props.messagesPageSize,currentUserDialogId:e.props.currentUserDialogId},s.id),Object(j.jsx)("hr",{})]},s.id)}));return Object(j.jsxs)("div",{className:O.a.dialogs,children:[Object(j.jsx)("div",{className:O.a.dialogsItems,children:a}),Object(j.jsx)("div",{children:this.props.currentUserDialogId&&Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:O.a.messages,children:s})}),Object(j.jsx)(U,{onSubmit:function(s){e.props.sendMessage(s.newMessageText,e.props.currentUserDialogId)}})]})})]})}}]),a}(g.a.Component),y=function(e){Object(n.a)(a,e);var s=Object(o.a)(a);function a(){return Object(i.a)(this,a),s.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getDialogs(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(j.jsx)(k,{dialogs:this.props.dialogs,userId:this.props.userId,messages:this.props.messages,pageSize:this.props.pageSize,currentPage:this.props.currentPage,messagesPageSize:this.props.messagesPageSize,currentMessagePage:this.props.currentMessagePage,chooseCurrentDialog:this.props.chooseCurrentDialog,sendMessage:this.props.sendMessage,currentUserDialogId:this.props.currentUserDialogId})}}]),a}(g.a.PureComponent);s.default=Object(u.d)((function(e){var s=function(s){Object(n.a)(t,s);var a=Object(o.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){return this.props.isLogin?Object(j.jsx)(e,Object(p.a)({},this.props)):Object(j.jsx)(l.a,{to:"/login"})}}]),t}(g.a.Component);return Object(d.b)(m)(s)}),Object(d.b)((function(e){var s;return s={messages:e.dialogsPage.messages,pageSize:e.dialogsPage.pageSize,dialogs:e.dialogsPage.dialogs,currentMessagePage:e.dialogsPage.currentMessagePage,messagesPageSize:e.dialogsPage.messagesPageSize,currentUserDialogId:e.dialogsPage.currentUserDialogId},Object(t.a)(s,"pageSize",e.dialogsPage.pageSize),Object(t.a)(s,"currentPage",e.dialogsPage.currentPage),Object(t.a)(s,"userId",e.auth.userId),s}),{sendMessage:h.d,getDialogs:h.c,chooseCurrentDialog:h.a}))(y)}}]);
//# sourceMappingURL=4.bb2ed489.chunk.js.map